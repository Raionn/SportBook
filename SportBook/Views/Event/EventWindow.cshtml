@model IEnumerable<SportBook.Models.Message>
@{
    ViewData["Title"] = "EventWindow";
}

<h1>EventWindow</h1>

@*<a class="navbar-brand" asp-area="" asp-controller="Event" asp-action="EventForm">Edit event</a>*@
@{string id = ViewData["id"] as string;}
@{string name = ViewData["eventname"] as string;}
@{string type = ViewData["type"] as string;}
@{string date = ViewData["starttime"] as string;}

<h5>@name</h5>
<a asp-action="SubmitParticipation" asp-route-id="@id" asp-route-eventname="@name">Participate</a>
<a asp-action="CancelParticipation" asp-route-id="@id" asp-route-eventname="@name">Cancel participation</a>
<a asp-action="EventForm" asp-route-id="@id" asp-route-eventname="@name" asp-route-type="@type" asp-route-starttime="@date">edit</a>
<a asp-action="CancelEvent" asp-route-id="@id">cancel</a>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Text)
            </th>

            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            if (item.EventId == int.Parse(@id))
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Text)
                    </td>

                </tr>
            }
        }
    </tbody>
</table>

<form asp-action="submitMessage" asp-route-id="@id">
    <input type="text" name="message" />
    <input type="submit" value="Send" class="btn btn-default" />
</form>

